<!DOCTYPE html>
<html>

<head>
  <title>Employee List</title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css' />
  <link rel='stylesheet' href='https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css' />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>

<body>
  <div class="container">
    <h1 class="text-center pb-4">Employee List</h1>
    <div class="pb-2">
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
        Create Employees
      </button>
      <a href="http://localhost:3000/profile" class="btn btn-success">Profile</a>
    </div>
    <% if(employees.length>0) { %>
    <table id="example" class="table table-striped table-bordered container" style="width:100%">
      <thead>
        <tr>
          <th>Name</th>
          <th>Position</th>
          <th>Address</th>
          <th>Salary</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% for(var i = 1; i < employees.length; i++) { %>
        <tr>
          <td><%= employees[i].name%></td>
          <td><%= employees[i].position%></td>
          <td><%= employees[i].address%></td>
          <td><%= employees[i].salary%>$/year</td>
          <td><a href="/employees/edit/<%= employees[i]._id%>" class="btn btn-warning" role="button">Edit</a>
            <a href="/employees/show/<%= employees[i]._id%>" class="btn btn-danger" role="button">Remove</a>

          </td>
        </tr>
        <% } %>

      </tbody>
      <tfoot>
        <tr>
          <th>Name</th>
          <th>Position</th>
          <th>Address</th>
          <th>Salary</th>
          <th></th>
        </tr>
      </tfoot>
    </table>
    <% } else { %>
    <div>No employees found.</div>
    <% } %>
  </div>
  <!-- Create Modal -->
  <div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content " style="margin-top: 80px;">
        <div class="modal-header black-bg">
          <button type="button" class="close" style="color:white;" data-dismiss="modal">&times;</button>

          <h4 class="modal-title ">Create Employee</h4>
        </div>
        <div class="modal-body">
          <form method="post" action="/employees/save">
            <div class="form-group">
              <label>Name:</label>
              <input type="text" name="name" class="form-control" required maxlength="50">
            </div>
            <div class="form-group">
              <label>Address:</label>
              <input class="form-control" name="address" required maxlength="50">
            </div>
            <div class="form-group">
              <label>Position:</label>
              <input class="form-control" name="position" required maxlength="50">
            </div>
            <div class="form-group">
              <label>Salary:</label>
              <input class="form-control" name="salary" required maxlength="50">
            </div>

            <button type="submit" class="btn btn-primary">Create</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- Edit Modal -->
  

</body>

</html>